if (self.CavalryLogger) { CavalryLogger.start_js(["4c0J3"]); }

__d("NotificationClassification",[],(function a(b,c,d,e,f,g){f.exports={CONVERSATIONS:"conversations",MULTI_COMPANY_GROUPS:"multi_company_groups"};}),null);
__d("WorkHubLogAction",[],(function a(b,c,d,e,f,g){f.exports={GROUP_STORY_LOAD:"GROUP_STORY_LOAD",HIDE_PANE:"HIDE_PANE",PAGE_LOAD:"PAGE_LOAD",NOTIFICATION_STORY_LOAD:"NOTIFICATION_STORY_LOAD",NOTIFICATION_TAB_CHANGED:"NOTIFICATION_TAB_CHANGED",SAVED_STORY_LOAD:"SAVED_STORY_LOAD",SAVED_STORY_ARCHIVE:"SAVED_STORY_ARCHIVE",SAVED_STORY_UNARCHIVE:"SAVED_STORY_UNARCHIVE",SHOW_PANE:"SHOW_PANE"};}),null);
__d("WorkHubStoryType",[],(function a(b,c,d,e,f,g){f.exports={SAVED:"SAVED",TRENDING:"TRENDING"};}),null);
__d("WorkHubTab",[],(function a(b,c,d,e,f,g){f.exports={ALL:"All",UNREAD:"Unread",CONVERSATIONS:"My Conversations",MULTICOMPANY:"Multi-Company Groups"};}),null);
__d('NotificationAttachmentUtils',['NotificationAttachmentConfig'],(function a(b,c,d,e,f,g){'use strict';var h={shouldOpenSnowlift:function i(j){var k=j.attachments,l=j.feedback_context,m=j.attached_story,n=[];if(k)n.push.apply(n,k);if(l&&l.relevant_comments){var o=l.relevant_comments;o.reduce(function(p,q){return p.concat(q.attachments);},n);}if(m&&m.attachments)n.push.apply(n,m.attachments);return n.some(function(p){if(!p.style_list||!p.style_list.length)return false;var q=p.style_list[0];return !!c('NotificationAttachmentConfig').snowliftStyles[q];});}};f.exports=h;}),null);
__d('NotificationConvoUtils',['QE2Logger','idx'],(function a(b,c,d,e,f,g){'use strict';var h='www_notifications_conversation_universe',i={shouldLogExposureWithNotification:function j(k){var l;return !!((l=k)!=null?(l=l.conversationConfig)!=null?(l=l.options)!=null?l.shouldExpose:l:l:l);},logExposure:function j(){c('QE2Logger').logExposureForUser(h);}};f.exports=i;}),null);
__d('NotificationHiddenState',['NotificationUpdates','NotificationConstants','isEmpty'],(function a(b,c,d,e,f,g){var h={};c('NotificationUpdates').subscribe('update-notifications',function(j,k){var l=k.nodes,m=k.payloadsource;if(m===c('NotificationConstants').PayloadSourceType.LIVE_SEND&&l&&l.length){var n={};l.forEach(function(o){var p=o.alert_id;if(h[p])n[p]=false;});if(!c('isEmpty')(n)){h=Object.assign(h,n);c('NotificationUpdates').didUpdateHiddenState(Object.keys(n));}}});c('NotificationUpdates').subscribe('update-hidden',function(j,k){if(k.hiddenState){var l=k.hiddenState;h=Object.assign(h,l);c('NotificationUpdates').didUpdateHiddenState(Object.keys(l));}});var i={isHidden:function j(k){if(h[k])return h[k];return false;}};f.exports=i;}),null);
__d('NotificationTracking',['invariant'],(function a(b,c,d,e,f,g,h){'use strict';var i={},j={getEncodedTrackingData:function k(l,m){return this._getTrackingInfo(l,m).encoded;},getTrackingString:function k(l,m){return this._getTrackingInfo(l,m).raw;},_getTrackingInfo:function k(l,m){var n=''+l.alert_id,o=i[n];if(o&&o.row===m)return o;var p=this._getEncodedTrackingDataWithRow(l,m);i[n]={row:m,encoded:p,raw:JSON.stringify(p)};return i[n];},_getTrackingAsObject:function k(l){var m=null,n=null;if(l.tracking)try{m=JSON.parse(l.tracking);}catch(o){n=o;}if(m===null||n!==null||typeof m!=='object')h(0);return m;},_getEncodedTrackingDataWithRow:function k(l,m){var n=this._getTrackingAsObject(l);if(m!='undefined'&&typeof m==='number')return babelHelpers['extends']({},n,{row:m});return n;}};f.exports=j;}),null);
__d('NotificationUtils',['NotificationAttachmentUtils','NotificationURI','URI'],(function a(b,c,d,e,f,g){'use strict';var h={getLinkProps:function i(j){var k=c('NotificationURI').localize(new (c('URI'))(j.url)),l=c('NotificationAttachmentUtils').shouldOpenSnowlift(j)&&c('NotificationURI').snowliftable(k),m=c('NotificationURI').isAlbumDraftRecoveryDialogURI(k),n=l||m?k:j.ajaxify_url||'',o=k,p=null;if(l){p='theater';}else if(m){p='async-post';}else if(c('NotificationURI').isQuicksilverURI(n)){p='dialog-post';}else if(n)p='dialog';return {ajaxify:n,href:o,rel:p};}};f.exports=h;}),null);
__d('NotificationActor.react',['cx','ix','Image.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').PureComponent);k=j&&j.prototype;l.prototype.render=function(){var m=this.props,n=m.actor,o=m.isCircle,p=m.isNotifsPage;return c('React').createElement(c('Image.react'),{src:n&&n.profile_picture?n.profile_picture.uri:i("97000"),alt:'',className:(!p?"_33h":'')+(p?' '+"_12u1":'')+(o?' '+"_4pt3":'')});};function l(){j.apply(this,arguments);}f.exports=l;}),null);
__d('NotificationAttachment.react',['cx','Image.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.render=function(){var l=this.props.image;if(!l)return c('React').createElement('span',null);return c('React').createElement(c('Image.react'),{src:l.uri,className:"_42td",'aria-hidden':true});};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('NotificationFooter.react',['cx','BizSiteIdentifier.brands','Image.react','ImageBlock.react','React','Timestamp.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('BizSiteIdentifier.brands').isBizSite();i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){var m=this.props,n=m.icon,o=m.shortenTimestamp,p=m.timestamp;return c('React').createElement(c('ImageBlock.react'),{className:"_33f"+(k?' '+"_2g48":'')},c('React').createElement(c('Image.react'),{className:"_10cu",src:n.uri}),c('React').createElement('span',null,c('React').createElement(c('Timestamp.react'),babelHelpers['extends']({className:"_33g",shorten:o},p))));};function l(){i.apply(this,arguments);}f.exports=l;}),null);
__d('NotificationVPVs',['getElementRect','MarauderLogger','Set'],(function a(b,c,d,e,f,g){'use strict';var h=new (c('Set'))();function i(o){if(j(o))return;c('MarauderLogger').log('notifications_vpv',undefined,null,'notification',o);h.add(o);}function j(o){return h.has(o);}function k(){h.clear();}function l(o,p){if(!o||!p)return false;return !(o.bottom<p.top||o.top>p.bottom||o.right<p.left||o.left>p.right);}function m(o){var p=c('getElementRect')(o);if(!p||p.top==0&&p.bottom==0&&p.left==0&&p.right==0)return null;return p;}var n={logImpression:i,clearImpressions:k,hasLoggedImpression:j,getValidatedRectangle:m,areRectsOverlapping:l};f.exports=n;}),null);
__d('NotificationList.react',['NotificationClassification','NotificationConstants','NotificationConvoUtils','NotificationHiddenState','NotificationSeenState','NotificationStore','NotificationUpdates','NotificationUserActions','NotificationVPVs','FunnelLogger','NotificationJewelFunnelLoggingConstants','React','SubscriptionsHandler','getObjectValues','isEmpty','mapObject'],(function a(b,c,d,e,f,g){var h,i,j=c('NotificationJewelFunnelLoggingConstants').FUNNEL_LOGGING_NAME,k=c('NotificationJewelFunnelLoggingConstants').FUNNEL_LOGGING_EVENT,l=c('React').PropTypes,m=c('NotificationConstants').PayloadSourceType.LIVE_SEND;h=babelHelpers.inherits(n,c('React').Component);i=h&&h.prototype;function n(){var o,p;'use strict';for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=i.constructor).call.apply(o,[this].concat(r)),this.state={canFetchMore:true,notifs:{},hiddenState:{},readState:{},showingChevron:false,readWhilePausedOrNavigating:{}},this.$NotificationList1=false,this.$NotificationList2={},this.$NotificationList3=false,this.$NotificationList5=false,this.$NotificationList9=function(){var t={};Object.keys(this.$NotificationList2).forEach(function(u){var v=c('NotificationHiddenState').isHidden(u);if(v!=this.state.hiddenState[u])t[u]=v;}.bind(this));if(!c('isEmpty')(t))this.setState({hiddenState:babelHelpers['extends']({},this.state.hiddenState,t)});this.$NotificationList2={};this.$NotificationList6(c('NotificationStore').getCount(this.props.endpoint,this.props.filter,this.props.classification));}.bind(this),this.$NotificationList11=function(t,u,v){if(this.$NotificationList1||!this.state.canFetchMore)return;if(t){c('FunnelLogger').appendAction(j,k.FETCH_NEXT_SET);this.$NotificationList10();}this.$NotificationList12(u,v);}.bind(this),this.$NotificationList13=function(){this.setState({showingChevron:true});}.bind(this),this.$NotificationList14=function(){this.setState({showingChevron:false});}.bind(this),this.$NotificationList17=function(t){if(this.props.paused&&this.props.filter==='unread'){var u=babelHelpers['extends']({},this.state.readWhilePausedOrNavigating);u[t]=true;this.setState({readWhilePausedOrNavigating:u});}}.bind(this),p;}n.prototype.componentWillMount=function(){'use strict';c('NotificationStore').registerEndpoint(this.props.endpoint,this.props.filter);if(this.props.businessID)c('NotificationStore').setBusinessID(this.props.businessID);c('FunnelLogger').appendAction(j,k.FETCH_NOTIFICATIONS);this.$NotificationList4=new (c('SubscriptionsHandler'))();this.$NotificationList4.addSubscriptions(c('NotificationUpdates').subscribe('notifications-updated',function(o,p){if(p.source==m&&!c('isEmpty')(p.updates)){this.$NotificationList3=true;if(this.props.paused!==false){this.$NotificationList2=babelHelpers['extends']({},this.$NotificationList2,p.updates);return;}}this.$NotificationList6(c('NotificationStore').getCount(this.props.endpoint,this.props.filter,this.props.classification));}.bind(this)),c('NotificationUpdates').subscribe(['hidden-state-updated','read-state-updated'],function(o,p){if(o=='hidden-state-updated'){if(p.source!==m||!this.props.paused){var q=c('mapObject')(p.updates,function(s,t){return c('NotificationHiddenState').isHidden(t);});this.setState({hiddenState:babelHelpers['extends']({},this.state.hiddenState,q)});}}else{var r=c('mapObject')(p.updates,function(s,t){return c('NotificationSeenState').isRead(t);});this.setState({readState:babelHelpers['extends']({},this.state.readState,r)});}}.bind(this)));};n.prototype.componentWillUnmount=function(){'use strict';if(this.$NotificationList4){this.$NotificationList4.release();this.$NotificationList4=null;}};n.prototype.componentWillReceiveProps=function(o){'use strict';if(this.$NotificationList7(o)||!o.paused)this.setState({readWhilePausedOrNavigating:{}});};n.prototype.$NotificationList7=function(o){'use strict';return o.filter!==this.props.filter||o.classification!==this.props.classification;};n.prototype.$NotificationList8=function(o){'use strict';var p=Object.keys(this.state.notifs),q=Object.keys(o).filter(function(s){return !this.state.notifs[s];}.bind(this));p=p.concat(q);var r={};p.forEach(function(s){if(this.$NotificationList2[s]){if(this.state.notifs[s])r[s]=this.state.notifs[s];}else r[s]=o[s];}.bind(this));return r;};n.prototype.$NotificationList6=function(o){'use strict';var p=this.props,q=p.endpoint,r=p.filter,s=p.classification;this.$NotificationList1=true;c('NotificationStore').getNotifications(o,function(t){var u=c('isEmpty')(this.$NotificationList2)?t:this.$NotificationList8(t),v={},w={};c('getObjectValues')(u).forEach(function(x){var y=x.alert_id;v[y]=c('NotificationSeenState').isRead(y);w[y]=c('NotificationHiddenState').isHidden(y);if(!this.$NotificationList5)this.$NotificationList5=c('NotificationConvoUtils').shouldLogExposureWithNotification(x);}.bind(this));this.$NotificationList1=false;this.setState({notifs:u,canFetchMore:c('NotificationStore').canFetchMore(q,r,s)||c('NotificationStore').getCount(q,r,s)!==Object.keys(u).length,readState:babelHelpers['extends']({},this.state.readState,v),hiddenState:babelHelpers['extends']({},this.state.hiddenState,w)});}.bind(this),q,r,s);};n.prototype.$NotificationList10=function(){'use strict';if(!this.$NotificationList1){var o=Object.keys(this.state.notifs).length;this.$NotificationList6(o+this.props.numPerPage);}};n.prototype.$NotificationList12=function(o,p){'use strict';if(!o||!p)return;for(var q=0,r=o.children.length;q<r;q++){var s=o.children[q];if(s){var t=s.getAttribute('data-alert-id');if(t&&!c('NotificationVPVs').hasLoggedImpression(t)){var u=c('NotificationVPVs').getValidatedRectangle(s);if(u&&c('NotificationVPVs').areRectsOverlapping(p,u))c('NotificationVPVs').logImpression(t);}}}};n.prototype.$NotificationList15=function(o){'use strict';if(o.length>this.props.numPerPage){this.$NotificationList6(o.length);}else this.$NotificationList10();return;};n.prototype.$NotificationList16=function(o){'use strict';var p=c('NotificationSeenState').getUnseenIDs();if(!c('isEmpty')(this.$NotificationList2))p=p.filter(function(q){return !this.$NotificationList2[q];}.bind(this));if(p.length&&this.props.paused)c('NotificationUserActions').markNotificationsAsSeen(p);if(this.props.hasEverBeenOpened)if(!o||!o.hasEverBeenOpened)this.$NotificationList15(p);};n.prototype.componentDidUpdate=function(o){'use strict';this.$NotificationList16(o);if(this.props.paused&&this.$NotificationList5)c('NotificationConvoUtils').logExposure();if(o.paused&&!this.props.paused){this.$NotificationList3=false;setTimeout(this.$NotificationList9,0);return;}if(this.props.paused&&this.$NotificationList7(o)){setTimeout(this.$NotificationList9,0);return;}};n.prototype.componentDidMount=function(){'use strict';this.$NotificationList16();};n.prototype.render=function(){'use strict';var o=this.props.listRenderer,p=this.state,q=p.notifs,r=p.readState,s=p.readWhilePausedOrNavigating,t={};if(this.props.filter==null){t=q;}else Object.keys(q).forEach(function(u){var v=q[u],w=v.alert_id,x=r[w];if(this.props.filter==='unread')x=!x||Object.prototype.hasOwnProperty.call(s,w);if(x)t[w]=v;}.bind(this));if(this.props.classification)Object.keys(q).forEach(function(u){var v=q[u];if(v.classification!==this.props.classification)delete t[v.alert_id];}.bind(this));return c('React').createElement(o,{paused:this.props.paused,tracking:this.props.tracking,negativeTracking:this.props.negativeTracking,shortenTimestamp:this.props.shortenTimestamp,businessID:this.props.businessID,maxHeight:this.props.maxHeight,useChevron:this.props.useChevron,chevronType:this.props.chevronType,notifs:t,afterScroll:this.$NotificationList11,onChevronShow:this.$NotificationList13,onChevronHide:this.$NotificationList14,canFetchMore:this.state.canFetchMore,hiddenState:this.state.hiddenState,readState:this.state.readState,showingChevron:this.state.showingChevron,shouldScroll:this.$NotificationList3,upsell:this.props.upsell||null,isRHC:this.props.isRHC,enableHubView:this.props.enableHubView,enableMarkUnread:this.props.enableMarkUnread,onRead:this.$NotificationList17});};n.propTypes={businessID:l.string,hasEverBeenOpened:l.bool,enableHubView:l.bool,enableMarkUnread:l.bool,maxHeight:l.number,negativeTracking:l.object,paused:l.bool,tracking:l.string,useChevron:l.bool,chevronType:l.string,numPerPage:l.number.isRequired,listRenderer:l.func.isRequired,upsell:l.object,endpoint:l.string,filter:l.string,classification:l.oneOf(c('getObjectValues')(c('NotificationClassification')))};f.exports=n;}),null);
__d('NotificationListItemChevron.react',['cx','AbstractPopoverButton.react','Banzai','BanzaiLogger','NotifTestIDs','NotificationTokens','PopoverMenu.react','React','ReactXUIMenu'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('ReactXUIMenu').Item,l="_1_0c _55m9";i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$NotificationListItemChevron1=function(){if(this.props.onHide)this.props.onHide();this.$NotificationListItemChevron2('close');}.bind(this),this.$NotificationListItemChevron3=function(){if(this.props.onShow)this.props.onShow();this.$NotificationListItemChevron2('open');var s={notif_type:this.props.notif_type};c('Banzai').post('notif_chevron_on_click',s);}.bind(this),o;}m.prototype.$NotificationListItemChevron2=function(n){var o={event:n,notif_type:this.props.notif_type,notif_id:parseInt(c('NotificationTokens').untokenizeIDs([this.props.alert_id])[0],10)};c('BanzaiLogger').log('NotifJewelMenuLoggerConfig',o);};m.prototype.$NotificationListItemChevron4=function(){var n=this.props.menu_options;if(!n||!n.length)return null;var o=c('React').createElement(c('ReactXUIMenu'),null,n.map(function(p){return c('React').createElement(k,{onclick:function(){return this.props.onMenuOptionClick(p);}.bind(this),key:p.client_action+p.server_action},c('React').createElement('div',{className:"_18qh"},p.text));}.bind(this)));return o;};m.prototype.render=function(){var n=this.$NotificationListItemChevron4();if(!n)return null;var o={button:c('React').createElement('a',{href:'#','aria-label':'Notification options',className:"_1_0d"})},p=c('React').createElement(c('PopoverMenu.react'),{'data-testid':c('NotifTestIDs').CHEVRON,alignh:'right',menu:n,className:l,disableArrowKeyActivation:true,onShow:this.$NotificationListItemChevron3,onHide:this.$NotificationListItemChevron1},c('React').createElement(c('AbstractPopoverButton.react'),{config:o,haschevron:false,image:null,label:null}));return p;};f.exports=m;}),null);
__d('NotificationListItemContents.react',['cx','BizSiteIdentifier.brands','FlexibleBlock.react','ImageBlock.react','NotificationActor.react','NotificationAttachment.react','NotificationFooter.react','NotificationInterpolator','NotificationPhotoThumbnail','React','TextWithEntities.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('BizSiteIdentifier.brands').isBizSite();i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.$NotificationListItemContents1=function(){var m=this.props.notification.title;if(!m)return null;return c('React').createElement(c('TextWithEntities.react'),babelHelpers['extends']({interpolator:c('NotificationInterpolator')},m,{renderEmoji:true,renderEmoticons:true}));};l.prototype.render=function(){var m=this.$NotificationListItemContents1(),n=this.props,o=n.isNotifsPage,p=n.shortenTimestamp,q=n.notification,r=q.actors,s=q.icon,t=q.timestamp,u=c('React').createElement(c('NotificationActor.react'),{actor:r[0],isNotifsPage:o}),v=c('React').createElement(c('NotificationAttachment.react'),{image:c('NotificationPhotoThumbnail').getThumbnailForNotification(this.props.notification)}),w=c('React').createElement(c('NotificationFooter.react'),{icon:s,shortenTimestamp:p,timestamp:t});return c('React').createElement(c('ImageBlock.react'),null,u,c('React').createElement(c('FlexibleBlock.react'),{flex:c('FlexibleBlock.react').FLEX.left},c('React').createElement('div',{className:"_4l_v"},m,w),v));};function l(){i.apply(this,arguments);}f.exports=l;}),null);
__d('NotificationListItemConversationContents.react',['cx','ImageBlock.react','FlexibleBlock.react','NotificationActor.react','NotificationAttachment.react','NotificationFooter.react','NotificationInterpolator','NotificationPhotoThumbnail','React','TextWithEntities.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){var l=this.props.notification.conversationConfig;if(!l)return null;var m=l.data,n=l.options;if(!m)return null;var o=m.actors,p=m.countText,q=m.subtitle,r=m.title,s=n.showIconFooter,t=n.useRoundedActor,u=this.props,v=u.notification,w=v.icon,x=v.timestamp,y=u.isNotifsPage,z=u.isRead,aa=u.shortenTimestamp,ba=c('React').createElement(c('NotificationActor.react'),{actor:o[0],isCircle:!!t,isNotifsPage:y}),ca=c('React').createElement(c('TextWithEntities.react'),{aggregatedranges:r.aggregated_ranges,interpolator:c('NotificationInterpolator'),ranges:r.ranges,renderEmoji:true,renderEmoticons:true,text:r.text}),da=c('React').createElement(c('TextWithEntities.react'),{aggregatedranges:q.aggregated_ranges,interpolator:c('NotificationInterpolator'),ranges:q.ranges,renderEmoji:true,renderEmoticons:true,text:q.text}),ea=p?c('React').createElement('span',{className:!z?"fwb":''},' (',c('React').createElement(c('TextWithEntities.react'),babelHelpers['extends']({interpolator:c('NotificationInterpolator')},p)),')'):null,fa=s?c('React').createElement(c('NotificationFooter.react'),{icon:w,shortenTimestamp:aa,timestamp:x}):null,ga=c('React').createElement(c('NotificationAttachment.react'),{image:c('NotificationPhotoThumbnail').getThumbnailForNotification(this.props.notification)});return c('React').createElement(c('ImageBlock.react'),null,ba,c('React').createElement(c('FlexibleBlock.react'),{flex:c('FlexibleBlock.react').FLEX.left},c('React').createElement('div',{className:"_4l_v"},c('React').createElement('div',{className:"_4pt4"},c('React').createElement('span',{className:"fwb"},ca),ea),c('React').createElement('div',{className:"_4pt6"},da),fa),ga));};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('NotificationListItemOptionConfirmation.react',['cx','fbt','List.react','NotificationInterpolator','React','TextWithEntities.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.render=function(){var m=this.props,n=m.follow_up_options,o=m.text,p=m.undo_action;return c('React').createElement('div',null,c('React').createElement('div',{className:"_4ai"},c('React').createElement(c('TextWithEntities.react'),{interpolator:c('NotificationInterpolator'),ranges:o.ranges,aggregatedranges:o.aggregatedranges,text:o.text||''}),c('React').createElement('a',{href:'#',onClick:function(){return this.props.onUndoClick(p);}.bind(this),className:'mls'},i._("Undo"))),c('React').createElement(c('List.react'),{border:'none',spacing:'small',className:"_1v4c"},n?n.map(function(q){return c('React').createElement('li',{key:q.client_action+q.server_action},c('React').createElement('a',{onClick:function(){return this.props.onMenuOptionClick(q);}.bind(this),href:'#',className:'mls'},q.text));}.bind(this)):null));};function l(){j.apply(this,arguments);}f.exports=l;}),null);
__d('WorkHubTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:WorkHubLoggerConfig',this.$WorkHubTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:WorkHubLoggerConfig',this.$WorkHubTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$WorkHubTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$WorkHubTypedLogger1=babelHelpers['extends']({},this.$WorkHubTypedLogger1,j);return this;};h.prototype.setAction=function(j){this.$WorkHubTypedLogger1.action=j;return this;};h.prototype.updateExtraData=function(j){j=c('nullthrows')(c('GeneratedLoggerUtils').serializeMap(j));c('GeneratedLoggerUtils').checkExtraDataFieldNames(j,i);this.$WorkHubTypedLogger1=babelHelpers['extends']({},this.$WorkHubTypedLogger1,j);return this;};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l);};var i={action:true};f.exports=h;}),null);
__d('HubStoryItem.react',['cx','fbt','invariant','AsyncRequest','Image.react','ImageBlock.react','Link.react','LongLiveTimer','React','Tooltip.react','WorkplaceHubView','WorkHubLogAction','WorkHubTypedLogger','XUIGrayText.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;k=babelHelpers.inherits(m,c('React').Component);l=k&&k.prototype;function m(){l.constructor.call(this);this.$HubStoryItem2=function(n){if(n&&n.metaKey){window.open(this.props.permalinkURI);}else{c('WorkplaceHubView').showSpinner();new (c('AsyncRequest'))(this.props.previewURI).send();}}.bind(this);this.$HubStoryItem1=function(n){if(n)n.stopPropagation();var o=this.state.archived;this.setState({archived:!o});this.props.archivable||j(0);var p=this.state.archived?this.props.archivable.unarchiveURI:this.props.archivable.archiveURI;new (c('AsyncRequest'))(p).setErrorHandler(this.setState.bind(this,{archived:o})).send();var q=o?c('WorkHubLogAction').SAVED_STORY_UNARCHIVE:c('WorkHubLogAction').SAVED_STORY_ARCHIVE;new (c('WorkHubTypedLogger'))().setAction(q).log();}.bind(this);this.state={archived:false};}m.prototype.render=function(){var n=this.props.time?c('LongLiveTimer').renderRelativeTime(Date.now()/1000,this.props.time).text:null,o;if(!this.props.archivable){o=null;}else o=this.state.archived?c('React').createElement('div',{className:"_5-zz",onClick:this.$HubStoryItem1},c('React').createElement(c('Tooltip.react'),{display:'block',tooltip:i._("Unarchive")})):c('React').createElement('div',{className:"_5zyo",onClick:this.$HubStoryItem1},c('React').createElement(c('Tooltip.react'),{display:'block',tooltip:i._("Archive")}));var p=c('React').createElement('div',null,this.props.title,c('React').createElement(c('XUIGrayText.react'),{display:'block',shade:'light'},c('React').createElement(c('Link.react'),{href:this.props.authorURI},this.props.authorName),'\u00B7',c('React').createElement('span',{className:"_3-99"},n))),q=this.props.imageURI?c('React').createElement(c('ImageBlock.react'),null,c('React').createElement(c('Image.react'),{src:this.props.imageURI}),p,o):p;return c('React').createElement('div',{className:"_2pi9"+(' '+"_27pl")+(this.state.archived?' '+"_5zyp":''),onClick:this.$HubStoryItem2,role:'presentation'},q);};f.exports=m;}),null);
__d('HubStoryDispatcher',['ExplicitRegistrationDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('ExplicitRegistrationDispatcher'));i=h&&h.prototype;function j(){h.apply(this,arguments);}f.exports=new j({strict:true});}),null);
__d('HubStoryActions',['HubStoryDispatcher','WorkHubStoryType','keyMirror'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirror')({LOADED:null},'HubStoryActionTypes'),i={TYPES:h,Loaded:function j(k){c('HubStoryDispatcher').dispatch({stories:k,type:h.LOADED});}};f.exports=i;}),null);
__d('HubStoryStore',['invariant','FluxReduceStore','HubStoryActions','HubStoryDispatcher','immutable'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k,l;i=babelHelpers.inherits(m,c('immutable').Record({loading:true,stories:c('immutable').Map()}));j=i&&i.prototype;function m(){i.apply(this,arguments);}k=babelHelpers.inherits(n,c('FluxReduceStore'));l=k&&k.prototype;n.prototype.getInitialState=function(){return new m();};n.prototype.isLoading=function(){return this.getState().get('loading');};n.prototype.getStories=function(){return this.getState().get('stories');};n.prototype.reduce=function(o,p){var q;switch(p.type){case c('HubStoryActions').TYPES.LOADED:if(p.stories&&p.stories.length){var q=function(){var r={};p.stories.map(function(s){r[s.id]=s;});return {v:new m({loading:false,stories:o.get('stories').merge(c('immutable').Map(r))})};}();if(typeof q==="object")return q.v;}break;default:h(0);}return o;};function n(){k.apply(this,arguments);}f.exports=new n(c('HubStoryDispatcher'));}),null);
__d('HubStoryPane.react',['HubStoryItem.react','HubStoryStore','React','ScrollableArea.react','SubscriptionsHandler'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(){i.constructor.call(this);this.$HubStoryPane1=new (c('SubscriptionsHandler'))();this.$HubStoryPane1.addSubscriptions(c('HubStoryStore').addListener(function(k){this.forceUpdate();}.bind(this)));}j.prototype.componentWillUnmount=function(){this.$HubStoryPane1.release();};j.prototype.render=function(){var k=c('HubStoryStore').getStories().map(function(l){return c('React').createElement(c('HubStoryItem.react'),{archivable:l.archivable,authorName:l.author.name,authorURI:l.author.profileURI,id:l.id,imageURI:l.imageURI,key:l.id,permalinkURI:l.permalinkURI,previewURI:l.previewURI,time:l.time,title:l.title});});return c('React').createElement(c('ScrollableArea.react'),{width:520,height:j.PANE_HEIGHT,fade:true,shadow:false},k.toArray());};j.PANE_HEIGHT=150;f.exports=j;}),null);
__d('HubNavDispatcher',['ExplicitRegistrationDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('ExplicitRegistrationDispatcher'));i=h&&h.prototype;function j(){h.apply(this,arguments);}f.exports=new j({strict:true});}),null);
__d('HubNavActions',['HubNavDispatcher','WorkHubTypedLogger','WorkHubLogAction','keyMirror'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirror')({TAB_CHANGED:null},'HubNavActionTypes'),i={TYPES:h,tabChanged:function j(k){new (c('WorkHubTypedLogger'))().setAction(c('WorkHubLogAction').NOTIFICATION_TAB_CHANGED).addToExtraData('tab',k).log();c('HubNavDispatcher').dispatch({tab:k,type:h.TAB_CHANGED});}};f.exports=i;}),null);
__d('HubNavStore',['invariant','FluxReduceStore','HubNavActions','HubNavDispatcher','immutable','WorkHubTab'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k,l;i=babelHelpers.inherits(m,c('immutable').Record({selectedTab:c('WorkHubTab').ALL}));j=i&&i.prototype;function m(){i.apply(this,arguments);}k=babelHelpers.inherits(n,c('FluxReduceStore'));l=k&&k.prototype;n.prototype.getInitialState=function(){return new m();};n.prototype.getSelectedTab=function(){return this.getState().get('selectedTab');};n.prototype.reduce=function(o,p){switch(p.type){case c('HubNavActions').TYPES.TAB_CHANGED:return new m({selectedTab:p.tab});default:h(0);}};function n(){k.apply(this,arguments);}f.exports=new n(c('HubNavDispatcher'));}),null);
__d('ResizingScrollableArea.react',['Event','React','ScrollableArea.react','debounce','getViewportDimensions'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){var l=c('getViewportDimensions').withoutScrollbars(),m=Math.max(0,l.height-this.props.heightViewportGap);return c('React').createElement(c('ScrollableArea.react'),{width:this.props.width,height:m,onScroll:this.props.onScroll,fade:true,shadow:false},this.props.children);};k.prototype.componentDidMount=function(){this.$ResizingScrollableArea1();};k.prototype.componentDidUpdate=function(l){this.$ResizingScrollableArea1();};k.prototype.$ResizingScrollableArea1=function(){c('Event').listen(window,'resize',c('debounce')(function(){this.forceUpdate();}.bind(this)));};function k(){h.apply(this,arguments);}k.propTypes={width:j.number,heightViewportGap:j.number,onScroll:j.func};f.exports=k;}),null);
__d('WorkHubTabSpecs',['NotificationClassification','WorkHubTab'],(function a(b,c,d,e,f,g){'use strict';var h=[{title:c('WorkHubTab').ALL,logName:'All'},{title:c('WorkHubTab').UNREAD,filter:'unread',logName:'Unread'},{title:c('WorkHubTab').CONVERSATIONS,classification:c('NotificationClassification').CONVERSATIONS,logName:'Conversations'},{title:c('WorkHubTab').MULTICOMPANY,classification:c('NotificationClassification').MULTI_COMPANY_GROUPS,logName:'Multi-Company Groups'}];f.exports=h;}),null);
__d('XUISubNavigation.react',['ix','cx','fbt','React','ReactDOM','Image.react','XUISubNavigation','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){var k,l;k=babelHelpers.inherits(m,c('React').Component);l=k&&k.prototype;m.prototype.render=function(){'use strict';var n=c('React').Children.toArray(this.props.children),o=this.props,p=o.maxVisible,q=o.selected;if(q)n=n.map(function(t){if(t.props.itemKey===q)t=c('React').cloneElement(t,{selected:true});return t;});var r=null;if(p&&n.length>p){var s=c('React').createElement('a',{className:"_1fsj",href:'#',key:'overflowLink',ref:'overflowLink'},c('React').createElement(c('Image.react'),{className:"_s6o",src:h("125305")}),j._("See more"));r=c('React').createElement('div',{className:"_1fsh"},n.slice(p),s);n=n.slice(0,p);}return c('React').createElement('div',{className:"_2fvv"},n,r);};m.prototype.componentDidMount=function(){'use strict';this.$XUISubNavigation1=new (c('XUISubNavigation'))(c('ReactDOM').findDOMNode(this),c('ReactDOM').findDOMNode(this.refs.overflowLink));};m.prototype.componentWillUnmount=function(){'use strict';this.$XUISubNavigation1.destroy();};function m(){'use strict';k.apply(this,arguments);}f.exports=m;}),null);
__d('XUISubNavigationItem.react',['ix','cx','fbt','AbstractBadge.react','Link.react','PopoverMenu.react','React','Image.react','XUISpinner.react','fbglyph','joinClasses'],(function a(b,c,d,e,f,g,h,i,j){var k,l;k=babelHelpers.inherits(m,c('React').Component);l=k&&k.prototype;m.prototype.render=function(){'use strict';var n=c('React').Children.toArray(this.props.children),o=this.props,p=o.count,q=o.endpoint,r=o.icon,s=o.menu;if(s)s=c('React').createElement(c('PopoverMenu.react'),{alignh:'left',alignv:'middle',autoflip:true,className:"_2yax",dynamicoffsety:true,hasarrow:true,menu:s,position:'right'},c('React').createElement(c('Link.react'),{className:"_5n0n",role:'button'},c('React').createElement(c('Image.react'),{alt:j._("Open"),src:h("123797")})));if(r)r=c('React').createElement(c('Image.react'),{className:"_2yaw",height:'16',src:r,width:'16'});var t=null;if(q)t=c('React').createElement(c('XUISpinner.react'),{className:"_2wwb"});var u='false';if(this.props.selected)u='page';var v=c('React').createElement('a',{className:"_2yau",'data-endpoint':q,href:this.props.href,rel:this.props.rel,'aria-current':u},r,c('React').createElement('span',{className:"_2yav"},n[0]),t,this.props.accessory),w=this.props.className,x="_2yaa"+(!!s?' '+"_5n0o":'');if(n.length===1){if(this.props.selected)w=c('joinClasses')(w,"_2yap");return c('React').createElement('div',{className:c('joinClasses')(w,x)},v,s);}return c('React').createElement('div',{className:w},c('React').createElement('div',{className:x},v,s),c('React').createElement('div',{className:"_3o_h"},n[n.length-1]));};function m(){'use strict';k.apply(this,arguments);}f.exports=m;}),null);
__d('WorkplaceHubNav.react',['HubNavActions','HubNavStore','NotificationConstants','NotificationSeenState','NotificationUpdates','React','SubscriptionsHandler','WorkHubTab','WorkHubTabSpecs','XUISubNavigation.react','XUISubNavigationItem.react','isEmpty'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('NotificationConstants').PayloadSourceType.LIVE_SEND;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){i.constructor.call(this);this.$WorkplaceHubNav1=new (c('SubscriptionsHandler'))();this.$WorkplaceHubNav1.addSubscriptions(c('HubNavStore').addListener(function(l){this.forceUpdate();}.bind(this)));this.$WorkplaceHubNav1.addSubscriptions(c('NotificationUpdates').subscribe('notifications-updated',function(l,m){if(m.source===j&&!c('isEmpty')(m.updates))this.setState({unreadCount:c('NotificationSeenState').getUnreadIDs().length});}.bind(this)),c('NotificationUpdates').subscribe('read-state-updated',function(l,m){this.setState({unreadCount:c('NotificationSeenState').getUnreadIDs().length});}.bind(this)));this.state={unreadCount:0};}k.prototype.componentWillUnmount=function(){this.$WorkplaceHubNav1.release();};k.prototype.render=function(){var l=c('WorkHubTabSpecs').map(function(m){var n=c('HubNavStore').getSelectedTab()===m.title,o=m.title,p=[c('WorkHubTab').ALL,c('WorkHubTab').UNREAD];if(p.includes(m.title)&&this.state.unreadCount>0)o+=' ('+this.state.unreadCount+')';return c('React').createElement('div',{onClick:function q(){return c('HubNavActions').tabChanged(m.title);},key:m.title,role:'menuitem'},c('React').createElement(c('XUISubNavigationItem.react'),{selected:n},o));}.bind(this));return c('React').createElement('div',null,c('React').createElement(c('XUISubNavigation.react'),null,l));};f.exports=k;}),null);
__d('WorkplaceHubNotificationCard.react',['cx','fbt','HubNavStore','Link.react','NotificationConstants','NotificationList.react','NotificationSeenState','NotificationUpdates','NotificationUserActions','React','ResizingScrollableArea.react','SubscriptionsHandler','WorkHubTab','WorkHubTabSpecs','XUICard.react','XUICardHeader.react','XUICardHeaderTitle.react','XUICardSection.react','isEmpty','nullthrows'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=30000,m=450,n=c('NotificationConstants').PayloadSourceType.LIVE_SEND;j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(p){k.constructor.call(this,p);this.$WorkplaceHubNotificationCard4=function(){this.setState({shouldPauseUnread:false});setTimeout(this.setState.bind(this,{shouldPauseUnread:true}),0);}.bind(this);this.$WorkplaceHubNotificationCard7=function(){this.setState({shouldScroll:!this.state.shouldScroll});}.bind(this);this.$WorkplaceHubNotificationCard1=new (c('SubscriptionsHandler'))();this.$WorkplaceHubNotificationCard2=0;this.state={shouldPauseUnread:true,shouldScroll:false};this.$WorkplaceHubNotificationCard1.addSubscriptions(c('HubNavStore').addListener(function(){if(this.$WorkplaceHubNotificationCard3()){this.$WorkplaceHubNotificationCard4();}else if(this.$WorkplaceHubNotificationCard2){clearTimeout(this.$WorkplaceHubNotificationCard2);this.$WorkplaceHubNotificationCard2=0;}this.forceUpdate();}.bind(this)));}o.prototype.componentWillMount=function(){this.$WorkplaceHubNotificationCard1.addSubscriptions(c('NotificationUpdates').subscribe('notifications-updated',function(p,q){if(q.source==n&&!c('isEmpty')(q.updates))if(this.$WorkplaceHubNotificationCard3()&&this.$WorkplaceHubNotificationCard2===0)this.$WorkplaceHubNotificationCard5();}.bind(this)),c('NotificationUpdates').subscribe('read-state-updated',function(p,q){if(this.$WorkplaceHubNotificationCard3())this.$WorkplaceHubNotificationCard5();}.bind(this)));};o.prototype.componentWillUnmount=function(){this.$WorkplaceHubNotificationCard1.release();if(this.$WorkplaceHubNotificationCard2){clearTimeout(this.$WorkplaceHubNotificationCard2);this.$WorkplaceHubNotificationCard2=0;}};o.prototype.render=function(){var p=m-this.props.additionalHeight,q=this.$WorkplaceHubNotificationCard6(),r=q.title===c('WorkHubTab').UNREAD&&this.state.shouldPauseUnread,s=c('React').createElement(c('ResizingScrollableArea.react'),{heightViewportGap:p,onScroll:this.$WorkplaceHubNotificationCard7},c('React').createElement(c('NotificationList.react'),{key:q.title,classification:q.classification,enableHubView:this.props.notifConfig.enableHubView,enableMarkUnread:this.props.notifConfig.enableMarkUnread,filter:q.filter,listRenderer:this.props.notifConfig.listRenderer,negativeTracking:this.props.notifConfig.negativeTracking,numPerPage:this.props.notifConfig.numPerPage,paused:r,shouldScroll:this.state.shouldScroll,tracking:this.props.notifConfig.tracking})),t=c('React').createElement(c('Link.react'),{href:'#',onClick:this.$WorkplaceHubNotificationCard8},i._("Mark all as read"));return c('React').createElement(c('XUICard.react'),{className:"_3-8y"},c('React').createElement(c('XUICardHeader.react'),{link:t,type:'primary'},c('React').createElement(c('XUICardHeaderTitle.react'),null,i._("Notifications"))),c('React').createElement(c('XUICardSection.react'),null,s));};o.prototype.$WorkplaceHubNotificationCard6=function(){return c('nullthrows')(c('WorkHubTabSpecs').find(function(p){return p.title===c('HubNavStore').getSelectedTab();}));};o.prototype.$WorkplaceHubNotificationCard8=function(){c('NotificationUserActions').markAllNotificationsAsRead();};o.prototype.$WorkplaceHubNotificationCard3=function(){return c('HubNavStore').getSelectedTab()===c('WorkHubTab').UNREAD;};o.prototype.$WorkplaceHubNotificationCard5=function(){if(this.$WorkplaceHubNotificationCard2)clearTimeout(this.$WorkplaceHubNotificationCard2);this.$WorkplaceHubNotificationCard2=setTimeout(this.$WorkplaceHubNotificationCard4,l);};f.exports=o;}),null);
__d("XWorkHubStoryController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/work\/hub\/story\/",{alert_id:{type:"String"},comment_id:{type:"Int"},id:{type:"Int"},ref:{type:"String"},reply_comment_id:{type:"Int"},story_token:{type:"String"}});}),null);
__d("XWorkHubStoryLoadAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/work\/hub\/story\/load\/",{type:{type:"Enum",required:true,enumType:1}});}),null);
__d('WorkplaceHubView',['cx','fbt','AsyncRequest','HubNavDispatcher','HubNavStore','HubStoryActions','HubStoryDispatcher','HubStoryPane.react','HubStoryStore','Poller','React','ReactDOM','ResizingScrollableArea.react','WorkHubStoryType','WorkplaceHubNav.react','WorkplaceHubNotificationCard.react','XUICard.react','XUIGrayText.react','XWorkHubStoryController','XWorkHubStoryLoadAsyncController','ge'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=60000,k=162,l={_preview:null,_storyPoller:null,init:function m(n,o,p,q,r){c('ReactDOM').render(c('React').createElement(c('WorkplaceHubNotificationCard.react'),{additionalHeight:q?0:c('HubStoryPane.react').PANE_HEIGHT,notifConfig:o,showMultiCompanyGroups:p}),n);c('ReactDOM').render(c('React').createElement(c('WorkplaceHubNav.react'),null),r);if(q)c('ReactDOM').render(c('React').createElement(c('HubStoryPane.react'),null),q);c('HubStoryDispatcher').explicitlyRegisterStore(c('HubStoryStore'));c('HubNavDispatcher').explicitlyRegisterStore(c('HubNavStore'));this._startPolling();},createStoryPreview:function m(n){var o=c('React').createElement('div',{id:'workHubNotifStories',ref:function(p){this._preview=p;}.bind(this)});c('ReactDOM').render(c('React').createElement(c('ResizingScrollableArea.react'),{heightViewportGap:k},o),n);},showSpinner:function m(){if(!c('ge')('workHubNotifSpinner'))c('ReactDOM').render(c('React').createElement(c('XUICard.react'),{id:'workHubNotifSpinner',className:"_2iwp"},c('React').createElement('div',{className:"_2iwo"},c('React').createElement('div',{className:"_2iwq"},c('React').createElement('div',{className:"_2iwr"}),c('React').createElement('div',{className:"_2iws"}),c('React').createElement('div',{className:"_2iwt"}),c('React').createElement('div',{className:"_2iwu"}),c('React').createElement('div',{className:"_2iwv"}),c('React').createElement('div',{className:"_2iww"}),c('React').createElement('div',{className:"_2iwx"}),c('React').createElement('div',{className:"_2iwy"}),c('React').createElement('div',{className:"_2iwz"}),c('React').createElement('div',{className:"_2iw-"}),c('React').createElement('div',{className:"_2iw_"}),c('React').createElement('div',{className:"_2ix0"})))),this._preview);},_getNotificationCommentID:function m(n){var o=n.match(/comment_id=(\d+)/);return o?Number(o[1]):null;},_getNotificationReplyCommentID:function m(n){var o=n.match(/reply_comment_id=(\d+)/);return o?Number(o[1]):null;},loadPreview:function m(n,o){var p=this._getNotificationCommentID(o),q=this._getNotificationReplyCommentID(o),r=c('XWorkHubStoryController').getURIBuilder().setString('alert_id',n).setInt('comment_id',q?null:p).setInt('reply_comment_id',q).getURI();l.showSpinner();new (c('AsyncRequest'))(r).setErrorHandler(this._onLoadPreviewError.bind(this,o)).send();},_onLoadPreviewError:function m(n){window.open(n);var o=c('React').createElement('div',{className:"_rrw _2o1n _2pi6"},c('React').createElement(c('XUIGrayText.react'),{size:'large',display:'block',weight:'bold'},i._("Unsupported Story Type")),c('React').createElement(c('XUIGrayText.react'),{display:'block'},i._("There are unfortunately a few types of notifications which we don't currently handle well. In these cases, we instead open the story for you in a separate browser tab.")),c('React').createElement(c('XUIGrayText.react'),{display:'block'},i._("Engineers who'd very much like to earn your affection are working around the clock to resolve this issue, crying softly to themselves as they contemplate where, oh where, in their childhood they could have gotten it wrong. This will be fixed. It shall be so.")));c('ReactDOM').render(o,this._preview);},_startPolling:function m(){var n=c('XWorkHubStoryLoadAsyncController').getURIBuilder().setEnum('type',c('WorkHubStoryType').SAVED).getURI();this._storyPoller=new (c('Poller'))({setupRequest:function o(p,q){p.setURI(n).setHandler(function(r){if(r.payload.savedItems)c('HubStoryActions').Loaded(r.payload.savedItems);});},interval:j});}};f.exports=l;}),null);
__d('NotificationListItem.react',['cx','csx','fbt','AsyncDialog','AsyncResponse','BizSiteIdentifier.brands','Bootloader','BootloadedComponent.react','Event','JSResource','Keys','Link.react','LogicalGridCell.react','LogicalGridRow.react','NotificationListItemChevron.react','NotificationListItemContents.react','NotificationListItemConversationContents.react','NotificationListItemOptionConfirmation.react','NotificationTracking','NotificationUtils','NotificationUserActions','Parent','React','ReactDOM','ReadToggle.react','Style','URI','VideoPlayerOrigins','idx'],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=10000,n=c('BizSiteIdentifier.brands').isBizSite();k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;function o(){var p,q;'use strict';for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.prefetched=false,this.isLiveVideo=null,this.$NotificationListItem1=false,this.state={showingOptions:false,sendingFeedback:false,mayUndoHide:false,notifOptionConfirmation:null},this.$NotificationListItem4=function(){if(!this.prefetched&&this.$NotificationListItem5())c('Bootloader').loadModules(["VideoPlayerSnowliftReactConfig","VideoPlayerMetaData"],function(u,v){if(u.shouldPrefetchMpd()){v.genPrefetch(this.$NotificationListItem6());this.prefetched=true;setTimeout(function(){this.prefetched=false;}.bind(this),m);}}.bind(this),'NotificationListItem.react');}.bind(this),this.$NotificationListItem9=function(u){this.$NotificationListItem8(u);}.bind(this),this.$NotificationListItem10=function(u){if(c('Event').getKeyCode(u.nativeEvent)==c('Keys').RETURN){var v=this.$NotificationListItem3();this.props.onSelected&&this.props.onSelected(v);this.$NotificationListItem8(u);}}.bind(this),this.$NotificationListItem11=function(){if(!this.props.isRead)c('NotificationUserActions').setNextIsFromReadButton(true);this.$NotificationListItem12();}.bind(this),this.$NotificationListItem14=function(u){c('AsyncResponse').defaultErrorHandler(u);this.setState({sendingFeedback:false});}.bind(this),this.$NotificationListItem19=function(){this.setState({notifOptionConfirmation:null,sendingFeedback:false,showingOptions:false});}.bind(this),this.$NotificationListItem24=function(u){this.setState({showingOptions:true,sendingFeedback:false,notifOptionConfirmation:u});}.bind(this),this.$NotificationListItem22=function(u){var v=this.$NotificationListItem3(),w=u.client_action==='REPORT_BUG',x=u.client_action==='OPEN_IN_INSPECTOR';if(w){var y=new (c('URI'))('/ajax/bugs/employee_report').setQueryData({client_notifs:JSON.stringify(this.props.getDebugData()),notif_alert_id:v});c('AsyncDialog').bootstrap(y.toString(),null,'dialog');}else if(x){window.open(u.subtext,'_blank');}else{this.setState({sendingFeedback:true,mayUndoHide:true});c('NotificationUserActions').sendNotifOption(v,this.$NotificationListItem24,this.$NotificationListItem14,u.server_action);}}.bind(this),this.$NotificationListItem25=function(u){this.setState({sendingFeedback:true});c('NotificationUserActions').undoNotifOption(this.$NotificationListItem3(),this.$NotificationListItem19,this.$NotificationListItem14,u);}.bind(this),this.$NotificationListItem28=function(u){this.$NotificationListItem2=u;}.bind(this),q;}o.prototype.$NotificationListItem3=function(){'use strict';return this.props.notification.alert_id;};o.prototype.$NotificationListItem7=function(p,q){'use strict';var r=this.$NotificationListItem3();if(q&&q.metaKey){window.open(p);}else this.props.onSelected&&this.props.onSelected(r);this.$NotificationListItem8(q);q&&q.preventDefault();};o.prototype.$NotificationListItem12=function(){'use strict';!this.props.isRead&&this.$NotificationListItem8();};o.prototype.$NotificationListItem8=function(p){'use strict';this.$NotificationListItem13();var q=this.$NotificationListItem3();if(this.props.onRead&&p)this.props.onRead(q);c('NotificationUserActions').markNotificationsAsRead([q]);};o.prototype.$NotificationListItem13=function(){'use strict';if(this.$NotificationListItem5()){this.$NotificationListItem1=true;c('Bootloader').loadModules(["PhotoSnowliftVideoNode","VideoPlayerSnowliftReactConfig"],function(p,q){if(q.shouldRenderVideoOnClick())p.mayBeRenderLiveVideo(this.$NotificationListItem6(),c('VideoPlayerOrigins').NOTIFICATIONS);}.bind(this),'NotificationListItem.react');}};o.prototype.$NotificationListItem15=function(){'use strict';if(this.$NotificationListItem5()&&this.$NotificationListItem16())c('Bootloader').loadModules(["PhotoSnowliftVideoNode","VideoPlayerSnowliftReactConfig"],function(p,q){if(q.shouldRenderVideoOnNotificationOpen())p.mayBeRenderLiveVideo(this.$NotificationListItem6(),c('VideoPlayerOrigins').NOTIFICATIONS);}.bind(this),'NotificationListItem.react');};o.prototype.$NotificationListItem17=function(){'use strict';if(this.$NotificationListItem5()&&!this.$NotificationListItem16()&&!this.$NotificationListItem1)c('Bootloader').loadModules(["PhotoSnowliftVideoNode","VideoPlayerSnowliftReactConfig"],function(p,q){if(q.shouldRenderVideoOnNotificationOpen())p.destroyVideoNodeOfID(this.$NotificationListItem6());}.bind(this),'NotificationListItem.react');this.$NotificationListItem1=false;};o.prototype.$NotificationListItem18=function(){'use strict';if(this.$NotificationListItem5()&&this.$NotificationListItem16())c('Bootloader').loadModules(["VideoPlayerMetaData","VideoPlayerSnowliftReactConfig"],function(p,q){var r=q.shouldFetchVideoDataOnNotificationOpen();if(r)p.genVideoData(this.$NotificationListItem6(),{forceRefetch:true});}.bind(this),'NotificationListItem.react');};o.prototype.$NotificationListItem20=function(){'use strict';var p="_55ma"+(' '+"_55m9");return c('React').createElement(c('ReadToggle.react'),{className:p,isRead:!!this.props.isRead,onClick:this.$NotificationListItem11,readLabel:this.props.enableMarkUnread?j._("Mark as Unread"):j._("Read"),unreadLabel:j._("Mark as Read")});};o.prototype.$NotificationListItem21=function(){'use strict';var p=this.props,q=p.onChevronHide,r=p.onChevronShow,s=p.notification,t=s.alert_id,u=s.menu_options,v=s.notif_type;return c('React').createElement(c('NotificationListItemChevron.react'),{alert_id:t,menu_options:u,notif_type:v,onHide:q,onMenuOptionClick:this.$NotificationListItem22,onShow:r});};o.prototype.$NotificationListItem23=function(){'use strict';return c('React').createElement('div',null,c('React').createElement(c('LogicalGridCell.react'),{columnIndex:1,component:c('React').createElement('span',null)},this.$NotificationListItem20()),c('React').createElement(c('LogicalGridCell.react'),{columnIndex:2,component:c('React').createElement('span',null),disableFocusRecovery:true},this.$NotificationListItem21()));};o.prototype.shouldComponentUpdate=function(p,q){'use strict';return this.props.visible!==p.visible||this.props.isRead!==p.isRead||this.props.isSelected!==p.isSelected||this.props.notification.timestamp!==p.notification.timestamp||this.state.showingOptions!==q.showingOptions||this.state.sendingFeedback!==q.sendingFeedback;};o.prototype.componentWillUpdate=function(p){'use strict';if(!this.$NotificationListItem2||!p.isSelected||this.props.isSelected)return;var q=c('ReactDOM').findDOMNode(this.$NotificationListItem2);q&&q.scrollIntoViewIfNeeded&&q.scrollIntoViewIfNeeded(false);};o.prototype.componentWillReceiveProps=function(p){'use strict';if(this.props.paused&&!p.paused&&!this.props.visible&&this.state.mayUndoHide)this.setState({mayUndoHide:false});};o.prototype.componentDidMount=function(){'use strict';if(this.$NotificationListItem5())c('Bootloader').loadModules(["VideoPlayerMetaData","PhotoSnowliftVideoNode","VideoPlayerSnowliftReactConfig"],function(p,q,r){var s=r.shouldFetchVideoDataOnNotificationOpen();if(!s)p.genVideoData(this.$NotificationListItem6()).done();}.bind(this),'NotificationListItem.react');this.$NotificationListItem15();this.$NotificationListItem18();};o.prototype.componentDidUpdate=function(){'use strict';this.$NotificationListItem15();this.$NotificationListItem17();this.$NotificationListItem18();if(this.props.enableHubView&&this.props.isSelected&&this.$NotificationListItem2){var p=c('ReactDOM').findDOMNode(this.$NotificationListItem2);if(p&&typeof p.focus=='function')p.focus();}};o.prototype.$NotificationListItem16=function(){'use strict';var p=c('ReactDOM').findDOMNode(this),q=c('Parent').bySelector(p,".__tw"),r=q?q.parentNode:null;return r?c('Style').get(r,'display')!=='none':false;};o.prototype.$NotificationListItem6=function(){'use strict';var p=c('NotificationTracking').getEncodedTrackingData(this.props.notification,this.props.row);return p.content_id||null;};o.prototype.$NotificationListItem5=function(){'use strict';if(this.isLiveVideo===null){var p=c('NotificationTracking').getTrackingString(this.props.notification,this.props.row);this.isLiveVideo=p.indexOf('live_video')!==-1;}return !!this.isLiveVideo;};o.prototype.$NotificationListItem26=function(){'use strict';var p=this.props,q=p.isRead,r=p.notification.eligible_buckets;return !q&&!!r&&r.indexOf('so_notifications')!==-1;};o.prototype.$NotificationListItem27=function(){'use strict';if(!this.$NotificationListItem26())return null;return c('React').createElement('div',{className:"_9u0 _9u1"},c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('div',null),bootloadLoader:c('JSResource')('RelationshipDelightsHearts.react').__setRef('NotificationListItem.react'),numParticles:10}));};o.prototype.render=function(){var p;'use strict';if(!this.props.visible&&!this.state.mayUndoHide)return c('React').createElement('li',{className:"_4_62"});var q="_33c"+(!this.props.isRead?' '+"jewelItemNew":'')+(this.state.showingOptions?' '+"_4ag":'')+(this.state.sendingFeedback?' '+"_4m8s":'')+(this.$NotificationListItem26()?' '+"_9u2":'')+(this.props.isSelected?' '+"_u-o":''),r=c('NotificationTracking').getTrackingString(this.props.notification,this.props.row),s=this.props.rowIndex;if(this.state.notifOptionConfirmation)return c('React').createElement('li',{className:q,'data-gt':r},c('React').createElement(c('LogicalGridRow.react'),{className:"_dre",rowIndex:s,component:c('React').createElement('div',null)},c('React').createElement(c('LogicalGridCell.react'),{columnIndex:0,component:c('React').createElement('div',null)},c('React').createElement(c('NotificationListItemOptionConfirmation.react'),babelHelpers['extends']({},this.state.notifOptionConfirmation,{onUndoClick:this.$NotificationListItem25,onMenuOptionClick:this.$NotificationListItem22})))));var t=null,u=this.props.notification.conversationConfig;if(u&&u.data){var v=this.props,w=v.isNotifsPage,x=v.isRead,y=v.shortenTimestamp;t=c('React').createElement(c('NotificationListItemConversationContents.react'),{notification:this.props.notification,isNotifsPage:w,isRead:x,shortenTimestamp:y});}else t=c('React').createElement(c('NotificationListItemContents.react'),this.props);var z=c('NotificationUtils').getLinkProps(this.props.notification),aa=(p=this.props.notification)!=null?(p=p.title)!=null?p.text:p:p,ba=null;if(this.props.enableHubView){ba=c('React').createElement(c('Link.react'),{ref:this.$NotificationListItem28,href:z.href,'aria-label':aa,className:"_33e"+(' '+"_1_0e"),onClick:this.$NotificationListItem7.bind(this,z.href)},t);}else ba=c('React').createElement('a',babelHelpers['extends']({},z,{'aria-label':aa,className:"_33e"+(' '+"_1_0e"),onClick:this.$NotificationListItem9,onKeyUp:this.$NotificationListItem10,onMouseOver:this.$NotificationListItem4}),t);var ca=this.$NotificationListItem27();return c('React').createElement('li',{className:q,'data-gt':r,'data-alert-id':this.$NotificationListItem3()},c('React').createElement(c('LogicalGridRow.react'),{className:"_dre anchorContainer",rowIndex:s,component:c('React').createElement('div',null)},c('React').createElement(c('LogicalGridCell.react'),{columnIndex:0,component:c('React').createElement('div',null)},ca,ba),this.$NotificationListItem23()));};f.exports=o;}),null);
__d('NotificationListPropTypes',['React'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i={negativeTracking:h.object,tracking:h.string,notifs:h.object,afterScroll:h.func,enableHubView:h.bool,onChevronShow:h.func,onChevronHide:h.func,onRead:h.func,canFetchMore:h.bool,hiddenState:h.object,readState:h.object,showingChevron:h.bool,paused:h.bool,maxHeight:h.number,shouldScroll:h.bool,notifTab:h.string};f.exports=i;}),null);
__d('NotificationPageList.react',['cx','fbt','ErrorBoundary.react','Event','Keys','getViewportDimensions','LoadingIndicator.react','LogicalGrid.react','NotificationListItem.react','NotificationListPropTypes','NotificationUtils','NotifTestIDs','React','ReactDOM','Vector','WorkplaceHubHelpDialog','WorkplaceHubView','debounce','getObjectValues','isEmpty'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(){'use strict';k.constructor.call(this);this.$NotificationPageList5=function(){var m=c('ReactDOM').findDOMNode(this.$NotificationPageList2),n=this.$NotificationPageList4();if(this.props.afterScroll)this.props.afterScroll(this.$NotificationPageList3(),m,n);}.bind(this);this.$NotificationPageList10=function(){return c('getObjectValues')(this.props.notifs).map(function(m){return JSON.stringify(m);});}.bind(this);this.selectAndPreviewNotification=function(m){this.onNotificationSelected(m);this.$NotificationPageList11(m);}.bind(this);this.$NotificationPageList12=function(m){var n=m.keyCode;if(n==c('Keys').J||n==c('Keys').DOWN){this.onNotificationSelected(this.$NotificationPageList9());m.stopPropagation();m.preventDefault();}if(n==c('Keys').K||n==c('Keys').UP){this.onNotificationSelected(this.$NotificationPageList8());m.stopPropagation();m.preventDefault();}if(n==c('Keys').O||n==c('Keys').RETURN){var o=this.$NotificationPageList7(this.state.selectedID);if(o)window.open(o);m.stopPropagation();}if(m.key=='?')c('WorkplaceHubHelpDialog').show();}.bind(this);this.$NotificationPageList13=function(m){var n=m.keyCode;if(n==c('Keys').J||n==c('Keys').DOWN||n==c('Keys').K||n==c('Keys').UP)if(this.state.selectedID)this.$NotificationPageList11(this.state.selectedID);}.bind(this);this.state={selectedID:null};}l.prototype.$NotificationPageList3=function(){'use strict';if(!this.$NotificationPageList1)return false;var m=c('ReactDOM').findDOMNode(this.$NotificationPageList1);if(!m)return false;var n=c('Vector').getElementPosition(m,'viewport').y;return n<c('Vector').getViewportDimensions().y;};l.prototype.$NotificationPageList4=function(){'use strict';var m=c('getViewportDimensions').withoutScrollbars();return {top:0,bottom:m.height,left:0,right:m.width};};l.prototype.$NotificationPageList6=function(m,n){'use strict';return n.indexOf(m);};l.prototype.$NotificationPageList7=function(m){'use strict';var n=c('getObjectValues')(this.props.notifs).find(function(o){return o.alert_id==m;});return n?c('NotificationUtils').getLinkProps(n).href:null;};l.prototype.$NotificationPageList8=function(){'use strict';var m=c('getObjectValues')(this.props.notifs).map(function(o){return o.alert_id;}),n=this.$NotificationPageList6(this.state.selectedID||'',m);return 0<=n-1?m[n-1]:m[n];};l.prototype.$NotificationPageList9=function(){'use strict';var m=c('getObjectValues')(this.props.notifs).map(function(o){return o.alert_id;}),n=this.$NotificationPageList6(this.state.selectedID||'',m);return n+1<m.length?m[n+1]:m[n];};l.prototype.componentDidUpdate=function(){'use strict';this.$NotificationPageList5();if(this.props.enableHubView&&!this.state.selectedID){var m=c('getObjectValues')(this.props.notifs).map(function(n){return n.alert_id;});m.length>0&&this.selectAndPreviewNotification(m[0]);}};l.prototype.componentDidMount=function(){'use strict';c('Event').listen(window,'scroll',c('debounce')(this.$NotificationPageList5,200));this.$NotificationPageList5();};l.prototype.$NotificationPageList11=function(m){'use strict';c('WorkplaceHubView').showSpinner();var n=this.$NotificationPageList7(m)||'#';c('WorkplaceHubView').loadPreview(m,n);};l.prototype.onNotificationSelected=function(m){'use strict';this.setState({selectedID:m});};l.prototype.$NotificationPageList14=function(){'use strict';var m=c('getObjectValues')(this.props.notifs).map(function(n){return n.alert_id;});return c('getObjectValues')(this.props.notifs).map(function(n,o){var p=n.alert_id,q=this.$NotificationPageList6(p,m),r=this.props.enableHubView?this.selectAndPreviewNotification:null;return c('React').createElement(c('ErrorBoundary.react'),{key:p},c('React').createElement(c('NotificationListItem.react'),{getDebugData:this.$NotificationPageList10,enableHubView:this.props.enableHubView,enableMarkUnread:this.props.enableMarkUnread,isNotifsPage:true,isRead:this.props.readState[p],isSelected:this.state.selectedID===p,negativeTracking:this.props.negativeTracking,noPhotoPreviews:true,notification:n,onRead:this.props.onRead,onChevronHide:this.props.onChevronHide,onChevronShow:this.props.onChevronShow,onSelected:r,paused:this.props.paused,row:q,rowIndex:o,shortenTimestamp:this.props.shortenTimestamp,visible:!this.props.hiddenState[p]}));}.bind(this));};l.prototype.render=function(){'use strict';var m=null,n=null,o=c('React').createElement('ul',{'data-gt':this.props.tracking,'data-testid':c('NotifTestIDs').SEE_ALL_LIST});if(!c('isEmpty')(this.props.notifs)){m=c('React').createElement(c('LogicalGrid.react'),{ref:function(s){return this.$NotificationPageList2=s;}.bind(this),component:o},this.$NotificationPageList14());}else if(!this.props.canFetchMore)m=c('React').createElement('div',{className:"_44_s",'data-testid':c('NotifTestIDs').SEE_ALL_LIST},i._("No new notifications"));if(this.props.canFetchMore)n=c('React').createElement(c('LoadingIndicator.react'),{color:'white',size:'large',ref:function(s){return this.$NotificationPageList1=s;}.bind(this),className:"_44_t"});var p=null;if(this.props.upsell){var q=this.props.upsell.module;p=c('React').createElement(q,babelHelpers['extends']({isPage:true},this.props.upsell.props));}var r="_44_u"+(this.props.showingChevron?' '+"_44_v":'');return c('React').createElement('div',{className:r,onKeyDown:this.props.enableHubView&&this.$NotificationPageList12,onKeyUp:this.props.enableHubView&&this.$NotificationPageList13},p,m,n);};l.propTypes=c('NotificationListPropTypes');f.exports=l;}),null);